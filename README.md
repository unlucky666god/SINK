# Sinc - Chat Application

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ TimeWeb

### –ü—Ä–æ–±–ª–µ–º–∞ —Å SQLite
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite, –Ω–æ –Ω–∞ shared-—Ö–æ—Å—Ç–∏–Ω–≥–∞—Ö (–≤–∫–ª—é—á–∞—è TimeWeb) –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:
- `SQLITE_READONLY` - —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
- `SQLITE_CANTOPEN` - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ MySQL

#### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö MySQL –Ω–∞ TimeWeb

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è TimeWeb
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"** ‚Üí **"MySQL"**
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
   - **–ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**: `sinc_chat` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ)
   - **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - **–ü–∞—Ä–æ–ª—å**: –ø—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å

4. –ó–∞–ø–∏—à–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   - **–•–æ—Å—Ç**: –æ–±—ã—á–Ω–æ `localhost` –∏–ª–∏ IP-–∞–¥—Ä–µ—Å –∏–∑ –ø–∞–Ω–µ–ª–∏
   - **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: –≤–∞—à –ª–æ–≥–∏–Ω MySQL
   - **–ü–∞—Ä–æ–ª—å**: –≤–∞—à –ø–∞—Ä–æ–ª—å MySQL
   - **–ò–º—è –ë–î**: `sinc_chat`

#### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
PORT=3000
JWT_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–∑–¥–µ—Å—å_–ø—Ä–∏–¥—É–º–∞–π—Ç–µ_—Å–ª—É—á–∞–π–Ω—É—é_—Å—Ç—Ä–æ–∫—É

# –¢–∏–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_TYPE=mysql

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ MySQL
DB_HOST=localhost
DB_USER=–≤–∞—à_mysql_–ª–æ–≥–∏–Ω
DB_PASSWORD=–≤–∞—à_mysql_–ø–∞—Ä–æ–ª—å
DB_NAME=sinc_chat

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
NODE_ENV=production
```

#### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

1. –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–æ–≤—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install
```

#### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è TimeWeb:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ

### üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

–ï—Å–ª–∏ –æ—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è:

#### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL:
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH
mysql -h –≤–∞—à_—Ö–æ—Å—Ç -u –≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -p –≤–∞—à–∞_–±–∞–∑–∞_–¥–∞–Ω–Ω—ã—Ö
```

#### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è TimeWeb –∏–ª–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞.

#### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` –∑–∞–≥—Ä—É–∂–µ–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

### üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### –¢–∞–±–ª–∏—Ü–∞ `users`
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ)
- `email` - email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `password` - —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
- `friends` - JSON –º–∞—Å—Å–∏–≤ ID –¥—Ä—É–∑–µ–π
- `waiting` - JSON –º–∞—Å—Å–∏–≤ ID –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥—Ä—É–∑—å—è
- `status` - —Å—Ç–∞—Ç—É—Å (online/offline)
- `groups` - JSON –º–∞—Å—Å–∏–≤ ID –≥—Ä—É–ø–ø

#### –¢–∞–±–ª–∏—Ü–∞ `messages`
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `from_user` - ID –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- `to_user` - ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- `message` - —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- `date` - –¥–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏

#### –¢–∞–±–ª–∏—Ü–∞ `groups`
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
- `users` - JSON –º–∞—Å—Å–∏–≤ ID —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- `created_by` - ID —Å–æ–∑–¥–∞—Ç–µ–ª—è
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (SQLite)

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ –µ—â–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cp .env.example .env

# –ò–∑–º–µ–Ω–∏—Ç–µ DB_TYPE –Ω–∞ sqlite
DB_TYPE=sqlite

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm install
npm run init-db  # –°–æ–∑–¥–∞–µ—Ç database.db
npm start
```

### üöÄ Production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ MySQL

# 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm start
```

### üìã –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------------|----------|--------|
| `PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | `3000` |
| `JWT_SECRET` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT | `–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á` |
| `DB_TYPE` | –¢–∏–ø –ë–î (`sqlite` –∏–ª–∏ `mysql`) | `mysql` |
| `DB_HOST` | –•–æ—Å—Ç MySQL | `localhost` |
| `DB_USER` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å MySQL | `–≤–∞—à_–ª–æ–≥–∏–Ω` |
| `DB_PASSWORD` | –ü–∞—Ä–æ–ª—å MySQL | `–≤–∞—à_–ø–∞—Ä–æ–ª—å` |
| `DB_NAME` | –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | `sinc_chat` |

### üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è TimeWeb
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ MySQL –≤ `.env`
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö MySQL
- –í–µ—Ä—Å–∏—é Node.js (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16+)
